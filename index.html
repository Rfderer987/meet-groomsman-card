<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Will you be my groomsman?</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
<style>
  :root{
    --card-w: 760px;
    --card-h: 480px;
    --ink:#1c1b1a; --paper:#fffdf7; --edge:#d6cfc3; --accent:#8b5e34; --hint:#6f6a63;
    --shadow:0 18px 40px rgba(0,0,0,.15);
  }
  html,body{height:100%}
  body{
    margin:0; display:flex; align-items:center; justify-content:center; padding:28px;
    background:radial-gradient(60% 60% at 50% 40%, #f5f3ee, #ece9e2); color:var(--ink);
    -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    font-family:"Libre Baskerville", serif;
  }
  .stage{display:flex; flex-direction:column; align-items:center; gap:14px; width:100%}
  .note{font:400 14px/1.4 "Libre Baskerville", serif; color:var(--hint); text-align:center}

  /* Card shell */
  .wrap{perspective:1600px; width:var(--card-w); height:var(--card-h)}
  .card{width:100%; height:100%; position:relative; transform-style:preserve-3d;
        transition:transform 900ms cubic-bezier(.18,.82,.22,1); cursor:pointer; border-radius:14px;}
  .card.open{transform:rotateY(-180deg)}
  .face{position:absolute; inset:0; backface-visibility:hidden; overflow:hidden;
        border-radius:14px; box-shadow:var(--shadow); background:var(--paper)}
  .face::before{content:""; position:absolute; inset:0;
    background:radial-gradient(1200px 400px at 50% 0%, rgba(0,0,0,.03), transparent 60%),
               radial-gradient(1000px 400px at 50% 100%, rgba(0,0,0,.04), transparent 60%);}
  .border{position:absolute; inset:18px; border-radius:10px; border:1px solid var(--edge);
          box-shadow: inset 0 0 0 3px rgba(255,255,255,.7);}

  /* Front */
  .front{display:grid; place-items:center; padding:38px 40px;
         background:linear-gradient(180deg,#fffef9,#f9f5ed)}
  .cover{text-align:center; max-width:520px}
  .brand{font:500 13px/1 "Libre Baskerville", serif; letter-spacing:.32em; text-transform:uppercase; color:var(--accent); margin-bottom:18px}
  .title{font:700 38px/1.1 "Playfair Display", serif; margin:0}
  .subtitle{margin:.7rem 0 0; color:var(--hint)}
  .openBtn{display:inline-block; margin-top:24px; padding:10px 18px; border-radius:999px; color:#fff;
           background:linear-gradient(180deg,#9b6d3f,#7f552e); font:600 13px/1 "Libre Baskerville", serif; letter-spacing:.12em; text-transform:uppercase;
           box-shadow:0 10px 18px rgba(139,94,52,.25)}

  /* Back (inside) — desktop layout */
  .back{transform:rotateY(-180deg); padding:26px 28px}
  .inner{
    position:relative; height:100%;
    display:grid; grid-template-columns:1.25fr .95fr; gap:22px;
  }
  .letter{padding:18px 22px 4px 22px; overflow:auto}
  .letter h2{font:700 22px/1.3 "Playfair Display", serif; color:var(--accent); margin:0 0 10px}
  .letter p{font:400 16px/1.65 "Libre Baskerville", serif; margin:0 0 14px; color:#242220}
  .signoff{margin-top:10px}
  .photo{display:flex; align-items:center; justify-content:center; padding:8px}
  .photo figure{margin:0; width:100%; height:100%; border-radius:12px; overflow:hidden; border:1px solid #e8e2d8; box-shadow:0 14px 28px rgba(0,0,0,.12)}
  .photo img{width:100%; height:100%; object-fit:cover; filter:grayscale(12%)}

  /* ---------- Mobile: single scrolling column with image at the end ---------- */
  @media (max-width: 900px){
    :root{ --card-w: 92vw; --card-h: 84vh; }   /* bigger reading area */
    body{ padding:16px; }

    /* Inside page becomes one scrollable column */
    .inner{
      display:block;
      height:100%;
      overflow:auto;                 /* the WHOLE inside scrolls */
      -webkit-overflow-scrolling:touch;
      padding:12px 14px 16px 14px;
    }
    .letter{
      overflow:visible;              /* let text flow naturally */
      padding:6px 6px 10px 6px;
    }
    .photo{
      padding:0; margin-top:12px;    /* sits after the letter */
    }
    .photo figure{
      height:auto;
      border-radius:12px; overflow:hidden;
    }
    .photo img{
      width:100%; height:auto;       /* natural image height */
      object-fit:contain; filter:none;
    }
  }
</style>
</head>
<body>
  <div class="stage">
    <div class="note">Tap anywhere on the card to open</div>

    <div class="wrap" role="button" aria-label="Open card">
      <div id="card" class="card" tabindex="0" aria-haspopup="true" aria-expanded="false">
        <!-- FRONT -->
        <section class="face front">
          <div class="border" aria-hidden="true"></div>
          <div class="cover">
            <div class="brand">Yufei &amp; Justin</div>
            <h1 class="title">Will you be my groomsman?</h1>
            <p class="subtitle">Raul, I’ve got something special to ask you.</p>
            <span class="openBtn">Open card</span>
          </div>
        </section>

        <!-- BACK -->
        <section class="face back">
          <div class="border" aria-hidden="true"></div>
          <div class="inner">
            <article class="letter" aria-label="Letter">
              <h2>Raul,</h2>
              <p>You’re my oldest friend and I cannot think of anyone better to stand by my side at the altar a year from now. These past two weeks have been incredible. I’m so incredibly blessed to have created so many new memories and experiences with you… dare I say we’ll be doing that for the rest of our days.</p>
              <p>From being there for the big moments watching you and Jen getting married to the small moments of pigging out on food and sitting around Beecroft doing nothing, I cannot wait for you both to come back so we can do it again and again and again.</p>
              <p>When I wrote in your card I cannot wait for our next chapter I truly meant it. Dirty thirties, being married, having kids, Saturday tennis lessons, and encouraging them to play with each other until they’re family like us, beating them if they don’t — I look forward to it every day. August 30 brings us closer to that dream.</p>
              <p>I hate that you both have to go but I’ll see you back in Sydney soon.</p>
              <p class="signoff">I love you like a brother, Raul.<br><strong>Love, Justin</strong></p>
            </article>

            <!-- Image becomes part of the flow on mobile -->
            <div class="photo" aria-label="Photo">
              <figure>
                <img src="assets/raul.jpg" alt="Raul and friends celebrating at a wedding">
              </figure>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

<script>
  const card = document.getElementById('card');
  function toggleOpen(){
    const open = card.classList.toggle('open');
    card.setAttribute('aria-expanded', open ? 'true' : 'false');
  }
  card.addEventListener('click', toggleOpen);
  card.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleOpen(); }
  });
</script>
</body>
</html>
